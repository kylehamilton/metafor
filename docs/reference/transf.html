<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transformation Function — transf • metafor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Transformation Function — transf" />
<meta property="og:description" content="A set of transformation functions useful for meta-analyses. " />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5-52</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transformation Function</h1>
    
    <div class="hidden name"><code>transf.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A set of transformation functions useful for meta-analyses. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <pre class="usage"><span class='fu'>transf.rtoz</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ztor</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.logit</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ilogit</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.arcsin</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.iarcsin</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.pft</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>ni</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ipft</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>ni</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ipft.hm</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>targs</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.isqrt</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.irft</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>ti</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.iirft</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>ti</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ahw</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.iahw</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.abt</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.iabt</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ztor.int</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>targs</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.exp.int</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>targs</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.ilogit.int</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>targs</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.dtou1</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.dtou2</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.dtou3</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.dtorpb</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>n1i</span>, <span class='va'>n2i</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.dtobesd</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.logortord</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>pc</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>transf.logortorr</span><span class='op'>(</span><span class='va'>xi</span>, <span class='va'>pc</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>xi</th>
      <td><p>vector of values to be transformed.</p></td>
    </tr>
    <tr>
      <th>ni</th>
      <td><p>vector of sample sizes.</p></td>
    </tr>
    <tr>
      <th>n1i</th>
      <td><p>vector of sample sizes for the first group.</p></td>
    </tr>
    <tr>
      <th>n2i</th>
      <td><p>vector of sample sizes for the second group.</p></td>
    </tr>
    <tr>
      <th>ti</th>
      <td><p>vector of person-times at risk.</p></td>
    </tr>
    <tr>
      <th>pc</th>
      <td><p>control group risk (either a single value or a vector).</p></td>
    </tr>
    <tr>
      <th>targs</th>
      <td><p>list with additional arguments for the transformation function. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The following transformation functions are currently implemented:</p><ul>
<li><p><code>transf.rtoz</code>: Fisher's r-to-z transformation for correlations.</p></li>
<li><p><code>transf.ztor</code>: inverse of Fisher's r-to-z transformation.</p></li>
<li><p><code>transf.logit</code>: logit (log odds) transformation for proportions.</p></li>
<li><p><code>transf.ilogit</code>: inverse of the logit transformation.</p></li>
<li><p><code>transf.arcsin</code>: arcsine square root transformation for proportions.</p></li>
<li><p><code>transf.iarcsin</code>: inverse of the arcsine transformation.</p></li>
<li><p><code>transf.pft</code>: Freeman-Tukey (double arcsine) transformation for proportions. See Freeman &amp; Tukey (1950). The <code>xi</code> argument is used to specify the proportions and the <code>ni</code> argument the corresponding sample sizes.</p></li>
<li><p><code>transf.ipft</code>: inverse of the Freeman-Tukey (double arcsine) transformation for proportions. See Miller (1978).</p></li>
<li><p><code>transf.ipft.hm</code>: inverse of the Freeman-Tukey (double arcsine) transformation for proportions using the harmonic mean of the sample sizes for the back-transformation. See Miller (1978). The sample sizes are specified via the <code>targs</code> argument (the list element should be called <code>ni</code>).</p></li>
<li><p><code>transf.isqrt</code>: inverse of the square root transformation (i.e., function to square a number).</p></li>
<li><p><code>transf.irft</code>: Freeman-Tukey transformation for incidence rates. See Freeman &amp; Tukey (1950). The <code>xi</code> argument is used to specify the incidence rates and the <code>ti</code> argument the corresponding person-times at risk.</p></li>
<li><p><code>transf.iirft</code>: inverse of the Freeman-Tukey transformation for incidence rates.</p></li>
<li><p><code>transf.ahw</code>: transformation of coefficient alpha as suggested by Hakstian &amp; Whalen (1976).</p></li>
<li><p><code>transf.iahw</code>: inverse of the transformation of coefficient alpha as suggested by Hakstian &amp; Whalen (1976).</p></li>
<li><p><code>transf.abt</code>: transformation of coefficient alpha as suggested by Bonett (2002).</p></li>
<li><p><code>transf.iabt</code>: inverse of the transformation of coefficient alpha as suggested by Bonett (2002).</p></li>
<li><p><code>transf.ztor.int</code>: integral transformation method for the z-to-r transformation.</p></li>
<li><p><code>transf.exp.int</code>: integral transformation method for the exponential transformation.</p></li>
<li><p><code>transf.ilogit.int</code>: integral transformation method for the inverse of the logit transformation.</p></li>
<li><p><code>transf.dtou1</code>: transformation of standardized mean differences to Cohen's U1 values (Cohen, 1988).</p></li>
<li><p><code>transf.dtou2</code>: transformation of standardized mean differences to Cohen's U2 values (Cohen, 1988).</p></li>
<li><p><code>transf.dtou3</code>: transformation of standardized mean differences to Cohen's U3 values (Cohen, 1988).</p></li>
<li><p><code>transf.dtocles</code>: transformation of standardized mean differences to common language effect size values (McGraw &amp; Wong, 1992).</p></li>
<li><p><code>transf.dtorpb</code>: transformation of standardized mean differences to point-biserial correlations. If <code>n1i</code> and <code>n2i</code> are not specified, the function assumes <code>n1i=n2i</code> and uses an approximate formula. If <code>n1i</code> and <code>n2i</code> are specified, the exact transformation formula is used.</p></li>
<li><p><code>transf.dtobesd</code>: transformation of standardized mean differences to binomial effect-size display values (Rosenthal &amp; Rubin, 1982). Note that the function only provides the proportion in the first group scoring above the median (the proportion in the second group scoring above the median is simply one minus the proportion in the first group scoring above the median).</p></li>
<li><p><code>transf.logortord</code>: transformation of log odds ratios to risk differences, assuming a particular value for the control group risk (which needs to be specified via the <code>pc</code> argument).</p></li>
<li><p><code>transf.logortorr</code>: transformation of log odds ratios to risk ratios, assuming a particular value for the control group risk (which needs to be specified via the <code>pc</code> argument).</p></li>
</ul>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector with the transformed values.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The integral transformation method for a transformation function \(h(z)\) integrates \(h(z) f(z)\) over \(z\) using the limits <code>targs$lower</code> and <code>targs$upper</code>, where \(f(z)\) is the density of a normal distribution with mean equal to <code>xi</code> and variance equal to <code>targs$tau2</code>. An example is provided below.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='http://www.metafor-project.org'>http://www.metafor-project.org</a></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bonett, D. G. (2002). Sample size requirements for testing and estimating coefficient alpha. <em>Journal of Educational and Behavioral Statistics</em>, <b>27</b>(4), 335--340. <a href='https://doi.org/10.3102/10769986027004335'>https://doi.org/10.3102/10769986027004335</a></p>
<p>Cohen, J. (1988). <em>Statistical power analysis for the behavioral sciences</em> (2nd ed.). Hillsdale, NJ: Lawrence Erlbaum Associates.</p>
<p>Fisher, R. A. (1921). On the &#8220;probable error&#8221; of a coefficient of correlation deduced from a small sample. <em>Metron</em>, <b>1</b>, 1--32. <a href='http://hdl.handle.net/2440/15169'>http://hdl.handle.net/2440/15169</a></p>
<p>Freeman, M. F., &amp; Tukey, J. W. (1950). Transformations related to the angular and the square root. <em>Annals of Mathematical Statistics</em>, <b>21</b>(4), 607--611. <a href='https://doi.org/10.1214/aoms/1177729756'>https://doi.org/10.1214/aoms/1177729756</a></p>
<p>Hakstian, A. R., &amp; Whalen, T. E. (1976). A k-sample significance test for independent alpha coefficients. <em>Psychometrika</em>, <b>41</b>(2), 219--231. <a href='https://doi.org/10.1007/BF02291840'>https://doi.org/10.1007/BF02291840</a></p>
<p>McGraw, K. O., &amp; Wong, S. P. (1992). A common language effect size statistic. <em>Psychological Bulletin</em>, <b>111</b>(2), 361--365. <a href='https://doi.org/10.1037/0033-2909.111.2.361'>https://doi.org/10.1037/0033-2909.111.2.361</a></p>
<p>Miller, J. J. (1978). The inverse of the Freeman-Tukey double arcsine transformation. <em>American Statistician</em>, <b>32</b>(4), 138. <a href='https://doi.org/10.1080/00031305.1978.10479283'>https://doi.org/10.1080/00031305.1978.10479283</a></p>
<p>Rosenthal, R., &amp; Rubin, D. B. (1982). A simple, general purpose display of magnitude of experimental effect. <em>Journal of Educational Psychology</em>, <b>74</b>(2), 166--169. <a href='https://doi.org/10.1037/0022-0663.74.2.166'>https://doi.org/10.1037/0022-0663.74.2.166</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='https://doi.org/10.18637/jss.v036.i03'>https://doi.org/10.18637/jss.v036.i03</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### meta-analysis of the log risk ratios using a random-effects model</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span>measure<span class='op'>=</span><span class='st'>"RR"</span>, ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat.bcg</span><span class='op'>)</span>

<span class='co'>### average risk ratio with 95% CI (but technically, this provides an</span>
<span class='co'>### estimate of the median risk ratio, not the mean risk ratio!)</span>
<span class='fu'><a href='predict.rma.html'>predict</a></span><span class='op'>(</span><span class='va'>res</span>, transf<span class='op'>=</span><span class='va'>exp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;    pred  ci.lb  ci.ub  pi.lb  pi.ub 
#&gt;  0.4894 0.3441 0.6962 0.1546 1.5490 
#&gt; </div><div class='input'>
<span class='co'>### average risk ratio with 95% CI using the integral transformation</span>
<span class='fu'><a href='predict.rma.html'>predict</a></span><span class='op'>(</span><span class='va'>res</span>, transf<span class='op'>=</span><span class='va'>transf.exp.int</span>, targs<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>tau2<span class='op'>=</span><span class='va'>res</span><span class='op'>$</span><span class='va'>tau2</span>, lower<span class='op'>=</span><span class='op'>-</span><span class='fl'>4</span>, upper<span class='op'>=</span><span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;    pred  ci.lb  ci.ub  pi.lb  pi.ub 
#&gt;  0.5724 0.4024 0.8142 0.1809 1.8117 
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


