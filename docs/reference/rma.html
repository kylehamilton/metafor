<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Meta-Analysis via Linear (Mixed-Effects) Models — rma.uni • metafor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Meta-Analysis via Linear (Mixed-Effects) Models — rma.uni" />
<meta property="og:description" content="Function to fit the meta-analytic fixed- and random/mixed-effects models with or without moderators via linear (mixed-effects) models. See the documentation of the metafor-package for more details on these models. " />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5-52</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Meta-Analysis via Linear (Mixed-Effects) Models</h1>
    
    <div class="hidden name"><code>rma.uni.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to fit the meta-analytic fixed- and random/mixed-effects models with or without moderators via linear (mixed-effects) models. See the documentation of the <span class="pkg"><a href='metafor-package.html'>metafor-package</a></span> for more details on these models. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <pre class="usage"><span class='fu'>rma.uni</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, <span class='va'>sei</span>, <span class='va'>weights</span>, <span class='va'>ai</span>, <span class='va'>bi</span>, <span class='va'>ci</span>, <span class='va'>di</span>, <span class='va'>n1i</span>, <span class='va'>n2i</span>, <span class='va'>x1i</span>, <span class='va'>x2i</span>, <span class='va'>t1i</span>, <span class='va'>t2i</span>,
        <span class='va'>m1i</span>, <span class='va'>m2i</span>, <span class='va'>sd1i</span>, <span class='va'>sd2i</span>, <span class='va'>xi</span>, <span class='va'>mi</span>, <span class='va'>ri</span>, <span class='va'>ti</span>, <span class='va'>sdi</span>, <span class='va'>r2i</span>, <span class='va'>ni</span>, <span class='va'>mods</span>,
        measure<span class='op'>=</span><span class='st'>"GEN"</span>, intercept<span class='op'>=</span><span class='cn'>TRUE</span>, <span class='va'>data</span>, <span class='va'>slab</span>, <span class='va'>subset</span>,
        add<span class='op'>=</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>2</span>, to<span class='op'>=</span><span class='st'>"only0"</span>, drop00<span class='op'>=</span><span class='cn'>FALSE</span>, vtype<span class='op'>=</span><span class='st'>"LS"</span>,
        method<span class='op'>=</span><span class='st'>"REML"</span>, weighted<span class='op'>=</span><span class='cn'>TRUE</span>, test<span class='op'>=</span><span class='st'>"z"</span>,
        level<span class='op'>=</span><span class='fl'>95</span>, <span class='va'>digits</span>, <span class='va'>btt</span>, <span class='va'>tau2</span>, verbose<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>control</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, <span class='va'>sei</span>, <span class='va'>weights</span>, <span class='va'>ai</span>, <span class='va'>bi</span>, <span class='va'>ci</span>, <span class='va'>di</span>, <span class='va'>n1i</span>, <span class='va'>n2i</span>, <span class='va'>x1i</span>, <span class='va'>x2i</span>, <span class='va'>t1i</span>, <span class='va'>t2i</span>,
        <span class='va'>m1i</span>, <span class='va'>m2i</span>, <span class='va'>sd1i</span>, <span class='va'>sd2i</span>, <span class='va'>xi</span>, <span class='va'>mi</span>, <span class='va'>ri</span>, <span class='va'>ti</span>, <span class='va'>sdi</span>, <span class='va'>r2i</span>, <span class='va'>ni</span>, <span class='va'>mods</span>,
        measure<span class='op'>=</span><span class='st'>"GEN"</span>, intercept<span class='op'>=</span><span class='cn'>TRUE</span>, <span class='va'>data</span>, <span class='va'>slab</span>, <span class='va'>subset</span>,
        add<span class='op'>=</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>2</span>, to<span class='op'>=</span><span class='st'>"only0"</span>, drop00<span class='op'>=</span><span class='cn'>FALSE</span>, vtype<span class='op'>=</span><span class='st'>"LS"</span>,
        method<span class='op'>=</span><span class='st'>"REML"</span>, weighted<span class='op'>=</span><span class='cn'>TRUE</span>, test<span class='op'>=</span><span class='st'>"z"</span>,
        level<span class='op'>=</span><span class='fl'>95</span>, <span class='va'>digits</span>, <span class='va'>btt</span>, <span class='va'>tau2</span>, verbose<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>control</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>yi</th>
      <td><p>vector of length \(k\) with the observed effect sizes or outcomes. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>vi</th>
      <td><p>vector of length \(k\) with the corresponding sampling variances. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>sei</th>
      <td><p>vector of length \(k\) with the corresponding standard errors (only relevant when not using <code>vi</code>). See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>optional argument to specify a vector of length \(k\) with user-defined weights. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>ai</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>bi</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>di</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>n1i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>n2i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>x1i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>x2i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>t1i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>t2i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>m1i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>m2i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>sd1i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>sd2i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>xi</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>mi</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>ri</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>ti</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>sdi</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>r2i</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>ni</th>
      <td><p>see below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>mods</th>
      <td><p>optional argument to include one or more moderators in the model. A single moderator can be given as a vector of length \(k\) specifying the values of the moderator. Multiple moderators are specified by giving a matrix with \(k\) rows and as many columns as there are moderator variables. Alternatively, a model <code><a href='formula.rma.html'>formula</a></code> can be used to specify the model. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>measure</th>
      <td><p>character string indicating the type of data supplied to the function. When <code>measure="GEN"</code> (default), the observed effect sizes or outcomes and corresponding sampling variances (or standard errors) should be supplied to the function via the <code>yi</code>, <code>vi</code>, and <code>sei</code> arguments (only one of the two, <code>vi</code> or <code>sei</code>, needs to be specified). Alternatively, one can set <code>measure</code> to one of the effect size or outcome measures described under the documentation for the <code><a href='escalc.html'>escalc</a></code> function and specify the required data via the appropriate arguments.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>logical indicating whether an intercept should be added to the model (the default is <code>TRUE</code>). Ignored when <code>mods</code> is a formula.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>optional data frame containing the data supplied to the function.</p></td>
    </tr>
    <tr>
      <th>slab</th>
      <td><p>optional vector with labels for the \(k\) studies.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>optional (logical or numeric) vector indicating the subset of studies that should be used for the analysis.</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>see the documentation of the <code><a href='escalc.html'>escalc</a></code> function.</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>see the documentation of the <code><a href='escalc.html'>escalc</a></code> function.</p></td>
    </tr>
    <tr>
      <th>drop00</th>
      <td><p>see the documentation of the <code><a href='escalc.html'>escalc</a></code> function.</p></td>
    </tr>
    <tr>
      <th>vtype</th>
      <td><p>see the documentation of the <code><a href='escalc.html'>escalc</a></code> function.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>character string specifying whether a fixed- or a random/mixed-effects model should be fitted. A fixed-effects model (with or without moderators) is fitted when using <code>method="FE"</code>. Random/mixed-effects models are fitted by setting <code>method</code> equal to one of the following: <code>"DL"</code>, <code>"HE"</code>, <code>"SJ"</code>, <code>"ML"</code>, <code>"REML"</code>, <code>"EB"</code>, <code>"HS"</code>, <code>"HSk"</code>, or <code>"GENQ"</code>. Default is <code>"REML"</code>. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>weighted</th>
      <td><p>logical indicating whether weighted (default) or unweighted estimation should be used to fit the model.</p></td>
    </tr>
    <tr>
      <th>test</th>
      <td><p>character string specifying how test statistics and confidence intervals for the fixed effects should be computed. By default (<code>test="z"</code>), Wald-type tests and CIs are obtained, which are based on a standard normal distribution. When <code>test="knha"</code>, the method by Knapp and Hartung (2003) is used for adjusting test statistics and confidence intervals. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>numerical value between 0 and 100 specifying the confidence interval level (the default is 95).</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer specifying the number of decimal places to which the printed results should be rounded (if unspecified, the default is 4).</p></td>
    </tr>
    <tr>
      <th>btt</th>
      <td><p>optional vector of indices specifying which coefficients to include in the omnibus test of moderators. Can also be a string to grep for. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>tau2</th>
      <td><p>optional numerical value to specify the amount of (residual) heterogeneity in a random- or mixed-effects model (instead of estimating it). Useful for sensitivity analyses (e.g., for plotting results as a function of \(\tau^2\)). When unspecified, the value of \(\tau^2\) is estimated from the data.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical indicating whether output should be generated on the progress of the model fitting (the default is <code>FALSE</code>). Can also be an integer. Values &gt; 1 generate more verbose output. See &#8216;Note&#8217;.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>optional list of control values for the iterative estimation algorithms. If unspecified, default values are defined inside the function. See &#8216;Note&#8217;.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p><b>Specifying the Data</b></p>
<p>The function can be used in conjunction with any of the usual effect size or outcome measures used in meta-analyses (e.g., log risk ratios, log odds ratios, risk differences, mean differences, standardized mean differences, raw correlation coefficients, correlation coefficients transformed with Fisher's r-to-z transformation, and so on). Simply specify the observed effect sizes or outcomes via the <code>yi</code> argument and the corresponding sampling variances via the <code>vi</code> argument. Instead of specifying <code>vi</code>, one can specify the standard errors (the square root of the sampling variances) via the <code>sei</code> argument. The <code><a href='escalc.html'>escalc</a></code> function can be used to compute a wide variety of effect size or outcome measures (and the corresponding sampling variances) based on summary statistics.</p>
<p>Alternatively, the function can automatically calculate the values of a chosen effect size or outcome measure (and the corresponding sampling variances) when supplied with the necessary data. The <code><a href='escalc.html'>escalc</a></code> function describes which effect size or outcome measures are currently implemented and what data/arguments should then be specified/used. The <code>measure</code> argument should then be set to the desired effect size or outcome measure.</p>
<p><b>Specifying the Model</b></p>
<p>The function can be used to fit fixed- and random/mixed-effects models, as well as meta-regression models including moderators (the difference between the various models is described in detail in the introductory <span class="pkg"><a href='metafor-package.html'>metafor-package</a></span> help file).</p>
<p>Assuming the observed effect sizes or outcomes and corresponding sampling variances are supplied via <code>yi</code> and <code>vi</code>, a <em>fixed-effects model</em> can be fitted with <code>rma(yi, vi, method="FE")</code>. Weighted estimation (with inverse-variance weights) is used by default. User-defined weights can be supplied via the <code>weights</code> argument. Unweighted estimation can be used by setting <code>weighted=FALSE</code> (same as setting the weights equal to a constant).</p>
<p>A <em>random-effects model</em> can be fitted with the same code but setting <code>method</code> to one of the various estimators for the amount of heterogeneity:</p><ul>
<li><p><code>method="DL"</code> = DerSimonian-Laird estimator</p></li>
<li><p><code>method="HE"</code> = Hedges estimator</p></li>
<li><p><code>method="HS"</code> = Hunter-Schmidt estimator</p></li>
<li><p><code>method="HSk"</code> = Hunter-Schmidt estimator with k-correction</p></li>
<li><p><code>method="SJ"</code> = Sidik-Jonkman estimator</p></li>
<li><p><code>method="ML"</code> = maximum-likelihood estimator</p></li>
<li><p><code>method="REML"</code> = restricted maximum-likelihood estimator</p></li>
<li><p><code>method="EB"</code> = empirical Bayes estimator</p></li>
<li><p><code>method="PM"</code> = Paule-Mandel estimator</p></li>
<li><p><code>method="GENQ"</code> = generalized Q-statistic estimator</p></li>
</ul><p>For a description of the various estimators, see Brannick et al. (2019), DerSimonian and Kacker (2007), Raudenbush (2009), Viechtbauer (2005), and Viechtbauer et al. (2015). Note that the Hedges estimator is also called the &#8216;variance component estimator&#8217; or &#8216;Cochran estimator&#8217;, the Sidik-Jonkman estimator is also called the &#8216;model error variance estimator&#8217;, and the empirical Bayes estimator is actually identical to the Paule-Mandel estimator (Paule &amp; Mandel, 1982). Finally, the generalized Q-statistic estimator is a general method-of-moments estimator (DerSimonian &amp; Kacker, 2007) requiring the specification of weights (the HE and DL estimators are just special cases with equal and inverse variance weights, respectively).</p>
<p>One or more moderators can be included in these models via the <code>mods</code> argument. A single moderator can be given as a (row or column) vector of length \(k\) specifying the values of the moderator. Multiple moderators are specified by giving an appropriate model matrix (i.e., \(X\)) with \(k\) rows and as many columns as there are moderator variables (e.g., <code>mods = cbind(mod1, mod2, mod3)</code>, where <code>mod1</code>, <code>mod2</code>, and <code>mod3</code> correspond to the names of the variables for three moderator variables). The intercept is added to the model matrix by default unless <code>intercept=FALSE</code>.</p>
<p>Alternatively, one can use the standard <code><a href='formula.rma.html'>formula</a></code> syntax to specify the model. In this case, the <code>mods</code> argument should be set equal to a one-sided formula of the form <code>mods = ~ model</code> (e.g., <code>mods = ~ mod1 + mod2 + mod3</code>). Interactions, polynomial terms, and factors can be easily added to the model in this manner. When specifying a model formula via the <code>mods</code> argument, the <code>intercept</code> argument is ignored. Instead, the inclusion/exclusion of the intercept is controlled by the specified formula (e.g., <code>mods = ~ mod1 + mod2 + mod3 - 1</code> would lead to the removal of the intercept).</p>
<p>A <em>fixed-effects with moderators model</em> is then fitted by setting <code>method="FE"</code>, while a <em>mixed-effects model</em> is fitted by specifying one of the estimators for the amount of (residual) heterogeneity given earlier.</p>
<p>When the observed effect sizes or outcomes and corresponding sampling variances are supplied via the <code>yi</code> and <code>vi</code> (or <code>sei</code>) arguments, one can also specify moderators via the <code>yi</code> argument (e.g., <code>rma(yi ~ mod1 + mod2 + mod3, vi)</code>). In that case, the <code>mods</code> argument is ignored and the inclusion/exclusion of the intercept again is controlled by the specified formula.</p>
<p><b>Omnibus Test of Moderators</b></p>
<p>For models including moderators, an omnibus test of all model coefficients is conducted that excludes the intercept (the first coefficient) if it is included in the model. If no intercept is included in the model, then the omnibus test includes all of the coefficients in the model including the first. Alternatively, one can manually specify the indices of the coefficients to test via the <code>btt</code> argument. For example, with <code>btt=c(3,4)</code>, only the third and fourth coefficient from the model would be included in the test (if an intercept is included in the model, then it corresponds to the first coefficient in the model). Instead of specifying the coefficient numbers, one can specify a string for <code>btt</code>. In that case, <code><a href='https://rdrr.io/r/base/grep.html'>grep</a></code> will be used to search for all coefficient names that match the string. The omnibus test is called the \(Q_M\)-test and follows, under the assumptions of the model, a chi-square distribution with \(m\) degrees of freedom (with \(m\) denoting the number of coefficients tested) under the null hypothesis (that the true value of all coefficients tested is equal to 0).</p>
<p><b>Categorical Moderators</b></p>
<p>Categorical moderator variables can be included in the model via the <code>mods</code> argument in the same way that appropriately (dummy) coded categorical independent variables can be included in linear models. One can either do the dummy coding manually or use a model formula together with the <code><a href='https://rdrr.io/r/base/factor.html'>factor</a></code> function to let <span style="R">R</span> handle the coding automatically. An example to illustrate these different approaches is provided below.</p>
<p><b>Knapp &amp; Hartung Adjustment</b></p>
<p>By default, tests of individual coefficients in the model (and the corresponding confidence intervals) are based on a standard normal distribution, while the omnibus test is based on a chi-square distribution (see above). The Knapp and Hartung (2003) method (<code>test="knha"</code>) is an adjustment to the standard errors of the estimated coefficients, which helps to account for the uncertainty in the estimate of the amount of (residual) heterogeneity and leads to different reference distributions. Tests of individual coefficients and confidence intervals are then based on a t-distribution with \(k-p\) degrees of freedom, while the omnibus test statistic then uses an F-distribution with \(m\) and \(k-p\) degrees of freedom (with \(p\) denoting the total number of model coefficients including the intercept if it is present). The Knapp and Hartung (2003) adjustment is only meant to be used in the context of random- or mixed-effects models.</p>
<p><b>Test for (Residual) Heterogeneity</b></p>
<p>A test for (residual) heterogeneity is automatically carried out by the function. Without moderators in the model, this is simply Cochran's \(Q\)-test (Cochran, 1954), which tests whether the variability in the observed effect sizes or outcomes is larger than would be expected based on sampling variability alone. A significant test suggests that the true effects or outcomes are heterogeneous. When moderators are included in the model, this is the \(Q_E\)-test for residual heterogeneity, which tests whether the variability in the observed effect sizes or outcomes not accounted for by the moderators included in the model is larger than would be expected based on sampling variability alone.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code><a href='https://rdrr.io/r/base/c.html'>c("rma.uni","rma")</a></code>. The object is a list containing the following components:</p>
<dt>beta</dt><dd><p>estimated coefficients of the model.</p></dd>
   <dt>se</dt><dd><p>standard errors of the coefficients.</p></dd>
   <dt>zval</dt><dd><p>test statistics of the coefficients.</p></dd>
   <dt>pval</dt><dd><p>corresponding p-values.</p></dd>
   <dt>ci.lb</dt><dd><p>lower bound of the confidence intervals for the coefficients.</p></dd>
   <dt>ci.ub</dt><dd><p>upper bound of the confidence intervals for the coefficients.</p></dd>
   <dt>vb</dt><dd><p>variance-covariance matrix of the estimated coefficients.</p></dd>
   <dt>tau2</dt><dd><p>estimated amount of (residual) heterogeneity. Always <code>0</code> when <code>method="FE"</code>.</p></dd>
   <dt>se.tau2</dt><dd><p>standard error of the estimated amount of (residual) heterogeneity.</p></dd>
   <dt>k</dt><dd><p>number of studies included in the analysis.</p></dd>
   <dt>p</dt><dd><p>number of coefficients in the model (including the intercept).</p></dd>
   <dt>m</dt><dd><p>number of coefficients included in the omnibus test of moderators.</p></dd>
   <dt>QE</dt><dd><p>test statistic of the test for (residual) heterogeneity.</p></dd>
   <dt>QEp</dt><dd><p>corresponding p-value.</p></dd>
   <dt>QM</dt><dd><p>test statistic of the omnibus test of moderators.</p></dd>
   <dt>QMp</dt><dd><p>corresponding p-value.</p></dd>
   <dt>I2</dt><dd><p>value of \(I^2\). See <code><a href='print.rma.html'>print.rma.uni</a></code> for more details.</p></dd>
   <dt>H2</dt><dd><p>value of \(H^2\). See <code><a href='print.rma.html'>print.rma.uni</a></code> for more details.</p></dd>
   <dt>R2</dt><dd><p>value of \(R^2\). See <code><a href='print.rma.html'>print.rma.uni</a></code> for more details.</p></dd>
   <dt>int.only</dt><dd><p>logical that indicates whether the model is an intercept-only model.</p></dd>
   <dt>yi, vi, X</dt><dd><p>the vector of outcomes, the corresponding sampling variances, and the model matrix.</p></dd>
   <dt>fit.stats</dt><dd><p>a list with the log-likelihood, deviance, AIC, BIC, and AICc values under the unrestricted and restricted likelihood.</p></dd>
   <dt>...</dt><dd><p>some additional elements/values.</p></dd>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p>The results of the fitted model are formatted and printed with the <code><a href='print.rma.html'>print.rma.uni</a></code> function. If fit statistics should also be given, use <code><a href='print.rma.html'>summary.rma</a></code> (or use the <code><a href='fitstats.html'>fitstats.rma</a></code> function to extract them). Full versus reduced model comparisons in terms of fit statistics and likelihoods can be obtained with <code><a href='anova.rma.html'>anova.rma</a></code>. Wald-type tests for sets of model coefficients or linear combinations thereof can be obtained with the same function. Permutation tests for the model coefficient(s) can be obtained with <code><a href='permutest.html'>permutest.rma.uni</a></code>. Tests and confidence intervals based on (cluster) robust methods can be obtained with <code><a href='robust.html'>robust.rma.uni</a></code>.</p>
<p>Predicted/fitted values can be obtained with <code><a href='predict.rma.html'>predict.rma</a></code> and <code><a href='fitted.rma.html'>fitted.rma</a></code>. For best linear unbiased predictions, see <code><a href='blup.html'>blup.rma.uni</a></code> and <code><a href='ranef.html'>ranef.rma.uni</a></code>.</p>
<p>The <code><a href='residuals.rma.html'>residuals.rma</a></code>, <code><a href='residuals.rma.html'>rstandard.rma.uni</a></code>, and <code><a href='residuals.rma.html'>rstudent.rma.uni</a></code> functions extract raw and standardized residuals. Additional case diagnostics (e.g., to determine influential studies) can be obtained with the <code><a href='influence.rma.uni.html'>influence.rma.uni</a></code> function. For models without moderators, leave-one-out diagnostics can also be obtained with <code><a href='leave1out.html'>leave1out.rma.uni</a></code>. For models with moderators, variance inflation factors can be obtained with <code><a href='vif.html'>vif.rma</a></code>.</p>
<p>A confidence interval for the amount of (residual) heterogeneity in the random/mixed-effects model can be obtained with <code><a href='confint.rma.html'>confint.rma.uni</a></code>.</p>
<p>Forest, funnel, radial, L'Abbé, and Baujat plots can be obtained with <code><a href='forest.rma.html'>forest.rma</a></code>, <code><a href='funnel.html'>funnel.rma</a></code>, <code><a href='radial.html'>radial.rma</a></code>, <code><a href='labbe.html'>labbe.rma</a></code>, and <code><a href='baujat.html'>baujat</a></code> (radial and L'Abbé plots only for models without moderators). The <code><a href='qqnorm.rma.uni.html'>qqnorm.rma.uni</a></code> function provides normal QQ plots of the standardized residuals. One can also just call <code><a href='plot.rma.html'>plot.rma.uni</a></code> on the fitted model object to obtain various plots at once. For random/mixed-effects models, the <code><a href='profile.rma.uni.html'>profile.rma.uni</a></code> function can be used to obtain a plot of the (restricted) log-likelihood as a function of \(\tau^2\).</p>
<p>Tests for funnel plot asymmetry (which may be indicative of publication bias) can be obtained with <code><a href='ranktest.html'>ranktest.rma</a></code> and <code><a href='regtest.html'>regtest.rma</a></code>. For models without moderators, the <code><a href='trimfill.html'>trimfill.rma.uni</a></code> method can be used to carry out a trim and fill analysis and <code><a href='hc.html'>hc.rma.uni</a></code> provides a random-effects model analysis that is more robust to publication bias (based on the method by Henmi &amp; Copas, 2010). The test of &#8216;excess significance&#8217; can be carried out with the <code><a href='tes.html'>tes.rma</a></code> function. Selection models can be fitted with the <code><a href='selmodel.html'>selmodel</a></code> function.</p>
<p>For models without moderators, a cumulative meta-analysis (i.e., adding one observation at a time) can be obtained with <code><a href='cumul.html'>cumul.rma.uni</a></code>.</p>
<p>Other extractor functions include <code><a href='coef.rma.html'>coef.rma</a></code>, <code><a href='vcov.rma.html'>vcov.rma</a></code>, <code><a href='fitstats.html'>logLik.rma</a></code>, <code><a href='fitstats.html'>deviance.rma</a></code>, <code><a href='fitstats.html'>AIC.rma</a></code>, <code><a href='fitstats.html'>BIC.rma</a></code>, <code><a href='influence.rma.uni.html'>hatvalues.rma.uni</a></code>, and <code><a href='weights.rma.uni.html'>weights.rma.uni</a></code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>While the HS, HSk, HE, DL, SJ, and GENQ estimators of \(\tau^2\) are based on closed-form solutions, the ML, REML, and EB estimators must be obtained numerically. For this, the function makes use of the Fisher scoring algorithm, which is robust to poor starting values and usually converges quickly (Harville, 1977; Jennrich &amp; Sampson, 1976). By default, the starting value is set equal to the value of the Hedges (HE) estimator and the algorithm terminates when the change in the estimated value of \(\tau^2\) is smaller than \(10^{-5}\) from one iteration to the next. The maximum number of iterations is 100 by default (which should be sufficient in most cases). Information on the progress of the algorithm can be obtained by setting <code>verbose=TRUE</code>. One can also set <code>verbose</code> to an integer (<code>verbose=2</code> yields even more information and <code>verbose=3</code> also sets <code><a href='https://rdrr.io/r/base/options.html'>option(warn=1)</a></code> temporarily).</p>
<p>A different starting value, threshold, and maximum number of iterations can be specified via the <code>control</code> argument by setting <code>control=list(tau2.init=value, threshold=value, maxiter=value)</code>. The step length of the Fisher scoring algorithm can also be manually adjusted by a desired factor with <code>control=list(stepadj=value)</code> (values below 1 will reduce the step length). If using <code>verbose=TRUE</code> shows the estimate jumping around erratically (or cycling through a few values), decreasing the step length (and increasing the maximum number of iterations) can often help with convergence (e.g., <code>control=list(stepadj=0.5, maxiter=1000)</code>).</p>
<p>The PM estimator also involves an iterative algorithm, which makes use of the <code><a href='https://rdrr.io/r/stats/uniroot.html'>uniroot</a></code> function. By default, the desired accuracy (<code>tol</code>) is set equal to <code>.Machine$double.eps^0.25</code> and the maximum number of iterations (<code>maxiter</code>) to <code>100</code> (as above). The upper bound of the interval searched (<code>tau2.max</code>) is set to 100 (which should be large enough for most cases). These values can be adjusted with <code>control=list(tol=value, maxiter=value, tau2.max=value)</code>.</p>
<p>All of the heterogeneity estimators except SJ can in principle yield negative estimates for the amount of (residual) heterogeneity. However, negative estimates of \(\tau^2\) are outside of the parameter space. For the HS, HSk, HE, DL, and GENQ estimators, negative estimates are therefore truncated to zero. For the ML, REML, and EB estimators, the Fisher scoring algorithm makes use of step halving (Jennrich &amp; Sampson, 1976) to guarantee a non-negative estimate. Finally, for the PM estimator, the lower bound of the interval searched is set by default to zero. For those brave enough to step into risky territory, there is the option to set the lower bound for all these estimators equal to some other value besides zero (even a negative one) with <code>control=list(tau2.min=value)</code>, but the lowest value permitted is <code>-min(vi)</code> (to ensure that the marginal variances are always non-negative).</p>
<p>The Hunter-Schmidt estimator for the amount of heterogeneity is defined in Hunter and Schmidt (1990) only in the context of the random-effects model when analyzing correlation coefficients. A general version of this estimator for random- and mixed-effects models not specific to any particular outcome measure is described in Viechtbauer (2005) and Viechtbauer et al. (2015) and is implemented here.</p>
<p>The Sidik-Jonkman estimator starts with a crude estimate of \(\tau^2\), which is then updated as described in Sidik and Jonkman (2005b, 2007). If, instead of the crude estimate, one wants to use a better a priori estimate, one can do so by passing this value via <code>control=list(tau2.init=value)</code>.</p>
<p>Outcomes with non-positive sampling variances are problematic. If a sampling variance is equal to zero, then its weight will be \(1/0\) for fixed-effects models when using weighted estimation. Switching to unweighted estimation is a possible solution then. For random/mixed-effects model, some estimators of \(\tau^2\) are undefined when there is at least one sampling variance equal to zero. Other estimators may work, but it may still be necessary to switch to unweighted model fitting, especially when the estimate of \(\tau^2\) turns out to be zero.</p>
<p>When including moderators in the model, it is possible that the model matrix is not of full rank (i.e., there is a linear relationship between the moderator variables included in the model). The function automatically tries to reduce the model matrix to full rank by removing redundant predictors, but if this fails the model cannot be fitted and an error will be issued. Deleting (redundant) moderator variables from the model as needed should solve this problem.</p>
<p>Finally, some general words of caution about the assumptions underlying the models:</p><ul>
<li><p>The sampling variances (i.e., the <code>vi</code> values) are treated as if they are known constants. This (usually) implies that the distributions of the test statistics and corresponding confidence intervals are only exact and have nominal coverage when the within-study sample sizes are large (i.e., when the error in the sampling variance estimates is small). Certain outcome measures (e.g., the arcsine square root transformed risk difference and the Fisher r-to-z transformed correlation coefficient) are based on variance stabilizing transformations that also help to make the assumption of known sampling variances much more reasonable.</p></li>
<li><p>When fitting a mixed/random-effects model, \(\tau^2\) is estimated and then treated as a known constant thereafter. This ignores the uncertainty in the estimate of \(\tau^2\). As a consequence, the standard errors of the parameter estimates tend to be too small, yielding test statistics that are too large and confidence intervals that are not wide enough. The Knapp and Hartung (2003) adjustment can be used to counter this problem, yielding test statistics and confidence intervals whose properties are closer to nominal.</p></li>
<li><p>Most effect size or outcome measures are not exactly normally distributed as assumed under the various models. However, the normal approximation usually becomes more accurate for most effect size or outcome measures as the within-study sample sizes increase. Therefore, sufficiently large within-study sample sizes are (usually) needed to be certain that the tests and confidence intervals have nominal levels/coverage. Again, certain outcome measures (e.g., the Fisher r-to-z transformed correlation coefficient) may be preferable from this perspective as well.</p></li>
</ul>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='http://www.metafor-project.org'>http://www.metafor-project.org</a></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Berkey, C. S., Hoaglin, D. C., Mosteller, F., &amp; Colditz, G. A. (1995). A random-effects regression model for meta-analysis. <em>Statistics in Medicine</em>, <b>14</b>(4), 395--411. <a href='https://doi.org/10.1002/sim.4780140406'>https://doi.org/10.1002/sim.4780140406</a></p>
<p>Brannick, M. T., Potter, S. M., Benitez, B., &amp; Morris, S. B. (2019). Bias and precision of alternate estimators in meta-analysis: Benefits of blending Schmidt–Hunter and Hedges approaches. <em>Organizational Research Methods</em>, <b>22</b>(2), 490--514. <a href='https://doi.org/10.1177/1094428117741966'>https://doi.org/10.1177/1094428117741966</a></p>
<p>Cochran, W. G. (1954). The combination of estimates from different experiments. <em>Biometrics</em>, <b>10</b>(1), 101--129. <a href='https://doi.org/10.2307/3001666'>https://doi.org/10.2307/3001666</a></p>
<p>DerSimonian, R., &amp; Laird, N. (1986). Meta-analysis in clinical trials. <em>Controlled Clinical Trials</em>, <b>7</b>(3), 177--188. <a href='https://doi.org/10.1016/0197-2456(86)90046-2'>https://doi.org/10.1016/0197-2456(86)90046-2</a></p>
<p>DerSimonian, R., &amp; Kacker, R. (2007). Random-effects model for meta-analysis of clinical trials: An update. <em>Contemporary Clinical Trials</em>, <b>28</b>(2), 105--114. <a href='https://doi.org/10.1016/j.cct.2006.04.004'>https://doi.org/10.1016/j.cct.2006.04.004</a></p>
<p>Harville, D. A. (1977). Maximum likelihood approaches to variance component estimation and to related problems. <em>Journal of the American Statistical Association</em>, <b>72</b>(358), 320--338. <a href='https://doi.org/10.2307/2286796'>https://doi.org/10.2307/2286796</a></p>
<p>Hedges, L. V. (1983). A random effects model for effect sizes. <em>Psychological Bulletin</em>, <b>93</b>(2), 388--395. <a href='https://doi.org/10.1037/0033-2909.93.2.388'>https://doi.org/10.1037/0033-2909.93.2.388</a></p>
<p>Hedges, L. V., &amp; Olkin, I. (1985). <em>Statistical methods for meta-analysis</em>. San Diego, CA: Academic Press.</p>
<p>Henmi, M., &amp; Copas, J. B. (2010). Confidence intervals for random effects meta-analysis and robustness to publication bias. <em>Statistics in Medicine</em>, <b>29</b>(29), 2969--2983. <a href='https://doi.org/10.1002/sim.4029'>https://doi.org/10.1002/sim.4029</a></p>
<p>Hunter, J. E., &amp; Schmidt, F. L. (2004). <em>Methods of meta-analysis: Correcting error and bias in research findings</em> (2nd ed.). Thousand Oaks, CA: Sage.</p>
<p>Jennrich, R. I., &amp; Sampson, P. F. (1976). Newton-Raphson and related algorithms for maximum likelihood variance component estimation. <em>Technometrics</em>, <b>18</b>(1), 11--17. <a href='https://doi.org/10.2307/1267911'>https://doi.org/10.2307/1267911</a></p>
<p>Knapp, G., &amp; Hartung, J. (2003). Improved tests for a random effects meta-regression with a single covariate. <em>Statistics in Medicine</em>, <b>22</b>(17), 2693--2710. <a href='https://doi.org/10.1002/sim.1482'>https://doi.org/10.1002/sim.1482</a></p>
<p>Morris, C. N. (1983). Parametric empirical Bayes inference: Theory and applications. <em>Journal of the American Statistical Association</em>, <b>78</b>(381), 47--55. <a href='https://doi.org/10.2307/2287098'>https://doi.org/10.2307/2287098</a></p>
<p>Paule, R. C., &amp; Mandel, J. (1982). Consensus values and weighting factors. <em>Journal of Research of the National Bureau of Standards</em>, <b>87</b>(5), 377--385. <a href='https://doi.org/10.6028/jres.087.022'>https://doi.org/10.6028/jres.087.022</a></p>
<p>Raudenbush, S. W. (2009). Analyzing effect sizes: Random effects models. In H. Cooper, L. V. Hedges, &amp; J. C. Valentine (Eds.), <em>The handbook of research synthesis and meta-analysis</em> (2nd ed., pp. 295--315). New York: Russell Sage Foundation.</p>
<p>Sidik, K., &amp; Jonkman, J. N. (2005a). A note on variance estimation in random effects meta-regression. <em>Journal of Biopharmaceutical Statistics</em>, <b>15</b>(5), 823--838. <a href='https://doi.org/10.1081/BIP-200067915'>https://doi.org/10.1081/BIP-200067915</a></p>
<p>Sidik, K., &amp; Jonkman, J. N. (2005b). Simple heterogeneity variance estimation for meta-analysis. <em>Journal of the Royal Statistical Society, Series C</em>, <b>54</b>(2), 367--384. <a href='https://doi.org/10.1111/j.1467-9876.2005.00489.x'>https://doi.org/10.1111/j.1467-9876.2005.00489.x</a></p>
<p>Sidik, K., &amp; Jonkman, J. N. (2007). A comparison of heterogeneity variance estimators in combining results of studies. <em>Statistics in Medicine</em>, <b>26</b>(9), 1964--1981. <a href='https://doi.org/10.1002/sim.2688'>https://doi.org/10.1002/sim.2688</a></p>
<p>Viechtbauer, W. (2005). Bias and efficiency of meta-analytic variance estimators in the random-effects model. <em>Journal of Educational and Behavioral Statistics</em>, <b>30</b>(3), 261--293. <a href='https://doi.org/10.3102/10769986030003261'>https://doi.org/10.3102/10769986030003261</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='https://doi.org/10.18637/jss.v036.i03'>https://doi.org/10.18637/jss.v036.i03</a></p>
<p>Viechtbauer, W., López-López, J. A., Sánchez-Meca, J., &amp; Marín-Martínez, F. (2015). A comparison of procedures to test for moderators in mixed-effects meta-regression models. <em>Psychological Methods</em>, <b>20</b>(3), 360--374. <a href='https://doi.org/10.1037/met0000023'>https://doi.org/10.1037/met0000023</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='rma.mh.html'>rma.mh</a></code>, <code><a href='rma.peto.html'>rma.peto</a></code>, <code><a href='rma.glmm.html'>rma.glmm</a></code>, and <code><a href='rma.mv.html'>rma.mv</a></code> for other model fitting functions.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### calculate log risk ratios and corresponding sampling variances</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span><span class='op'>(</span>measure<span class='op'>=</span><span class='st'>"RR"</span>, ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat.bcg</span><span class='op'>)</span>

<span class='co'>### random-effects model, using log risk ratios and variances as input</span>
<span class='co'>### note: method="REML" is the default, so one could leave this out</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, method<span class='op'>=</span><span class='st'>"REML"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Random-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of total heterogeneity): 0.3132 (SE = 0.1664)
#&gt; tau (square root of estimated tau^2 value):      0.5597
#&gt; I^2 (total heterogeneity / total variability):   92.22%
#&gt; H^2 (total variability / sampling variability):  12.86
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 12) = 152.2330, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se     zval    pval    ci.lb    ci.ub 
#&gt;  -0.7145  0.1798  -3.9744  &lt;.0001  -1.0669  -0.3622  *** 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### random-effects model, using log risk ratios and standard errors as input</span>
<span class='co'>### note: the second argument of rma() is for the *variances*, so we use the</span>
<span class='co'>### named argument 'sei' to supply the standard errors to the function</span>
<span class='va'>dat</span><span class='op'>$</span><span class='va'>sei</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>dat</span><span class='op'>$</span><span class='va'>vi</span><span class='op'>)</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, sei<span class='op'>=</span><span class='va'>sei</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Random-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of total heterogeneity): 0.3132 (SE = 0.1664)
#&gt; tau (square root of estimated tau^2 value):      0.5597
#&gt; I^2 (total heterogeneity / total variability):   92.22%
#&gt; H^2 (total variability / sampling variability):  12.86
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 12) = 152.2330, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se     zval    pval    ci.lb    ci.ub 
#&gt;  -0.7145  0.1798  -3.9744  &lt;.0001  -1.0669  -0.3622  *** 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### supplying the 2x2 table cell frequencies directly to the rma() function</span>
<span class='fu'>rma</span><span class='op'>(</span>measure<span class='op'>=</span><span class='st'>"RR"</span>, ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Random-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of total heterogeneity): 0.3132 (SE = 0.1664)
#&gt; tau (square root of estimated tau^2 value):      0.5597
#&gt; I^2 (total heterogeneity / total variability):   92.22%
#&gt; H^2 (total variability / sampling variability):  12.86
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 12) = 152.2330, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se     zval    pval    ci.lb    ci.ub 
#&gt;  -0.7145  0.1798  -3.9744  &lt;.0001  -1.0669  -0.3622  *** 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### mixed-effects model with two moderators (absolute latitude and publication year)</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='va'>ablat</span>, <span class='va'>year</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.1108 (SE = 0.0845)
#&gt; tau (square root of estimated tau^2 value):             0.3328
#&gt; I^2 (residual heterogeneity / unaccounted variability): 71.98%
#&gt; H^2 (unaccounted variability / sampling variability):   3.57
#&gt; R^2 (amount of heterogeneity accounted for):            64.63%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 28.3251, p-val = 0.0016
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 12.2043, p-val = 0.0022
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;          estimate       se     zval    pval     ci.lb    ci.ub 
#&gt; intrcpt   -3.5455  29.0959  -0.1219  0.9030  -60.5724  53.4814     
#&gt; ablat     -0.0280   0.0102  -2.7371  0.0062   -0.0481  -0.0080  ** 
#&gt; year       0.0019   0.0147   0.1299  0.8966   -0.0269   0.0307     
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### using a model formula to specify the same model</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>ablat</span> <span class='op'>+</span> <span class='va'>year</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.1108 (SE = 0.0845)
#&gt; tau (square root of estimated tau^2 value):             0.3328
#&gt; I^2 (residual heterogeneity / unaccounted variability): 71.98%
#&gt; H^2 (unaccounted variability / sampling variability):   3.57
#&gt; R^2 (amount of heterogeneity accounted for):            64.63%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 28.3251, p-val = 0.0016
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 12.2043, p-val = 0.0022
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;          estimate       se     zval    pval     ci.lb    ci.ub 
#&gt; intrcpt   -3.5455  29.0959  -0.1219  0.9030  -60.5724  53.4814     
#&gt; ablat     -0.0280   0.0102  -2.7371  0.0062   -0.0481  -0.0080  ** 
#&gt; year       0.0019   0.0147   0.1299  0.8966   -0.0269   0.0307     
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### using a model formula as part of the yi argument</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span> <span class='op'>~</span> <span class='va'>ablat</span> <span class='op'>+</span> <span class='va'>year</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.1108 (SE = 0.0845)
#&gt; tau (square root of estimated tau^2 value):             0.3328
#&gt; I^2 (residual heterogeneity / unaccounted variability): 71.98%
#&gt; H^2 (unaccounted variability / sampling variability):   3.57
#&gt; R^2 (amount of heterogeneity accounted for):            64.63%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 28.3251, p-val = 0.0016
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 12.2043, p-val = 0.0022
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;          estimate       se     zval    pval     ci.lb    ci.ub 
#&gt; intrcpt   -3.5455  29.0959  -0.1219  0.9030  -60.5724  53.4814     
#&gt; ablat     -0.0280   0.0102  -2.7371  0.0062   -0.0481  -0.0080  ** 
#&gt; year       0.0019   0.0147   0.1299  0.8966   -0.0269   0.0307     
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### manual dummy coding of the allocation factor</span>
<span class='va'>alloc.random</span>     <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>dat</span><span class='op'>$</span><span class='va'>alloc</span> <span class='op'>==</span> <span class='st'>"random"</span>,     <span class='fl'>1</span>, <span class='fl'>0</span><span class='op'>)</span>
<span class='va'>alloc.alternate</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>dat</span><span class='op'>$</span><span class='va'>alloc</span> <span class='op'>==</span> <span class='st'>"alternate"</span>,  <span class='fl'>1</span>, <span class='fl'>0</span><span class='op'>)</span>
<span class='va'>alloc.systematic</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>dat</span><span class='op'>$</span><span class='va'>alloc</span> <span class='op'>==</span> <span class='st'>"systematic"</span>, <span class='fl'>1</span>, <span class='fl'>0</span><span class='op'>)</span>

<span class='co'>### test the allocation factor (in the presence of the other moderators)</span>
<span class='co'>### note: 'alternate' is the reference level of the allocation factor,</span>
<span class='co'>###       since this is the dummy/level we leave out of the model</span>
<span class='co'>### note: the intercept is the first coefficient, so with btt=2:3 we test</span>
<span class='co'>###       coefficients 2 and 3, corresponding to the coefficients for the</span>
<span class='co'>###       allocation factor</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>alloc.random</span> <span class='op'>+</span> <span class='va'>alloc.systematic</span> <span class='op'>+</span> <span class='va'>year</span> <span class='op'>+</span> <span class='va'>ablat</span>, data<span class='op'>=</span><span class='va'>dat</span>, btt<span class='op'>=</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.1796 (SE = 0.1425)
#&gt; tau (square root of estimated tau^2 value):             0.4238
#&gt; I^2 (residual heterogeneity / unaccounted variability): 73.09%
#&gt; H^2 (unaccounted variability / sampling variability):   3.72
#&gt; R^2 (amount of heterogeneity accounted for):            42.67%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 8) = 26.2030, p-val = 0.0010
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 1.3663, p-val = 0.5050
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;                   estimate       se     zval    pval     ci.lb    ci.ub 
#&gt; intrcpt           -14.4984  38.3943  -0.3776  0.7057  -89.7498  60.7531    
#&gt; alloc.random       -0.3421   0.4180  -0.8183  0.4132   -1.1613   0.4772    
#&gt; alloc.systematic    0.0101   0.4467   0.0226  0.9820   -0.8654   0.8856    
#&gt; year                0.0075   0.0194   0.3849  0.7003   -0.0306   0.0456    
#&gt; ablat              -0.0236   0.0132  -1.7816  0.0748   -0.0495   0.0024  . 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### using a model formula to specify the same model</span>
<span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>year</span> <span class='op'>+</span> <span class='va'>ablat</span>, data<span class='op'>=</span><span class='va'>dat</span>, btt<span class='op'>=</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.1796 (SE = 0.1425)
#&gt; tau (square root of estimated tau^2 value):             0.4238
#&gt; I^2 (residual heterogeneity / unaccounted variability): 73.09%
#&gt; H^2 (unaccounted variability / sampling variability):   3.72
#&gt; R^2 (amount of heterogeneity accounted for):            42.67%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 8) = 26.2030, p-val = 0.0010
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 1.3663, p-val = 0.5050
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;                          estimate       se     zval    pval     ci.lb    ci.ub 
#&gt; intrcpt                  -14.4984  38.3943  -0.3776  0.7057  -89.7498  60.7531 
#&gt; factor(alloc)random       -0.3421   0.4180  -0.8183  0.4132   -1.1613   0.4772 
#&gt; factor(alloc)systematic    0.0101   0.4467   0.0226  0.9820   -0.8654   0.8856 
#&gt; year                       0.0075   0.0194   0.3849  0.7003   -0.0306   0.0456 
#&gt; ablat                     -0.0236   0.0132  -1.7816  0.0748   -0.0495   0.0024 
#&gt;  
#&gt; intrcpt 
#&gt; factor(alloc)random 
#&gt; factor(alloc)systematic 
#&gt; year 
#&gt; ablat                    . 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### test all pairwise differences with Holm's method (using the 'multcomp' package if installed)</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='va'>res</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.3615 (SE = 0.2111)
#&gt; tau (square root of estimated tau^2 value):             0.6013
#&gt; I^2 (residual heterogeneity / unaccounted variability): 88.77%
#&gt; H^2 (unaccounted variability / sampling variability):   8.91
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 132.3676, p-val &lt; .0001
#&gt; 
#&gt; Test of Moderators (coefficients 1:3):
#&gt; QM(df = 3) = 15.9842, p-val = 0.0011
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;                          estimate      se     zval    pval    ci.lb    ci.ub 
#&gt; factor(alloc)alternate    -0.5180  0.4412  -1.1740  0.2404  -1.3827   0.3468 
#&gt; factor(alloc)random       -0.9658  0.2672  -3.6138  0.0003  -1.4896  -0.4420 
#&gt; factor(alloc)systematic   -0.4289  0.3449  -1.2434  0.2137  -1.1050   0.2472 
#&gt;  
#&gt; factor(alloc)alternate 
#&gt; factor(alloc)random      *** 
#&gt; factor(alloc)systematic 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='http://multcomp.R-forge.R-project.org'>multcomp</a></span><span class='op'>)</span><span class='op'>)</span>
   <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/multcomp/man/glht.html'>glht</a></span><span class='op'>(</span><span class='va'>res</span>, linfct<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/multcomp/man/contrMat.html'>contrMat</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"alternate"</span><span class='op'>=</span><span class='fl'>1</span>,<span class='st'>"random"</span><span class='op'>=</span><span class='fl'>1</span>,<span class='st'>"systematic"</span><span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,
           type<span class='op'>=</span><span class='st'>"Tukey"</span><span class='op'>)</span><span class='op'>)</span>, test<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/multcomp/man/methods.html'>adjusted</a></span><span class='op'>(</span><span class='st'>"holm"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; 	 Simultaneous Tests for General Linear Hypotheses
#&gt; 
#&gt; Multiple Comparisons of Means: Tukey Contrasts
#&gt; 
#&gt; 
#&gt; Fit: rma(yi = yi, vi = vi, mods = ~factor(alloc) - 1, data = dat)
#&gt; 
#&gt; Linear Hypotheses:
#&gt;                             Estimate Std. Error z value Pr(&gt;|z|)
#&gt; random - alternate == 0     -0.44782    0.51582  -0.868    0.771
#&gt; systematic - alternate == 0  0.08904    0.56004   0.159    0.874
#&gt; systematic - random == 0     0.53686    0.43636   1.230    0.656
#&gt; (Adjusted p values reported -- holm method)
#&gt; </div><div class='input'>
<span class='co'>### subgrouping versus using a single model with a factor (subgrouping provides</span>
<span class='co'>### an estimate of tau^2 within each subgroup, but the number of studies in each</span>
<span class='co'>### subgroup is quite small; the model with the allocation factor provides a</span>
<span class='co'>### single estimate of tau^2 based on a larger number of studies, but assumes</span>
<span class='co'>### that tau^2 is the same within each subgroup)</span>
<span class='va'>res.a</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, subset<span class='op'>=</span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>==</span><span class='st'>"alternate"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>res.r</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, subset<span class='op'>=</span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>==</span><span class='st'>"random"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>res.s</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, subset<span class='op'>=</span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>==</span><span class='st'>"systematic"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>res.a</span>
</div><div class='output co'>#&gt; 
#&gt; Random-Effects Model (k = 2; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of total heterogeneity): 0.1326 (SE = 0.2286)
#&gt; tau (square root of estimated tau^2 value):      0.3641
#&gt; I^2 (total heterogeneity / total variability):   82.02%
#&gt; H^2 (total variability / sampling variability):  5.56
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 1) = 5.5625, p-val = 0.0183
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se     zval    pval    ci.lb   ci.ub 
#&gt;  -0.5408  0.2816  -1.9204  0.0548  -1.0927  0.0111  . 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'><span class='va'>res.r</span>
</div><div class='output co'>#&gt; 
#&gt; Random-Effects Model (k = 7; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of total heterogeneity): 0.3925 (SE = 0.3029)
#&gt; tau (square root of estimated tau^2 value):      0.6265
#&gt; I^2 (total heterogeneity / total variability):   89.93%
#&gt; H^2 (total variability / sampling variability):  9.93
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 6) = 110.2133, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se     zval    pval    ci.lb    ci.ub 
#&gt;  -0.9710  0.2760  -3.5186  0.0004  -1.5118  -0.4301  *** 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'><span class='va'>res.s</span>
</div><div class='output co'>#&gt; 
#&gt; Random-Effects Model (k = 4; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of total heterogeneity): 0.4003 (SE = 0.4199)
#&gt; tau (square root of estimated tau^2 value):      0.6327
#&gt; I^2 (total heterogeneity / total variability):   86.42%
#&gt; H^2 (total variability / sampling variability):  7.36
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 3) = 16.5919, p-val = 0.0009
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se     zval    pval    ci.lb   ci.ub 
#&gt;  -0.4242  0.3597  -1.1792  0.2383  -1.1293  0.2809    
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='va'>res</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.3615 (SE = 0.2111)
#&gt; tau (square root of estimated tau^2 value):             0.6013
#&gt; I^2 (residual heterogeneity / unaccounted variability): 88.77%
#&gt; H^2 (unaccounted variability / sampling variability):   8.91
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 132.3676, p-val &lt; .0001
#&gt; 
#&gt; Test of Moderators (coefficients 1:3):
#&gt; QM(df = 3) = 15.9842, p-val = 0.0011
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;                          estimate      se     zval    pval    ci.lb    ci.ub 
#&gt; factor(alloc)alternate    -0.5180  0.4412  -1.1740  0.2404  -1.3827   0.3468 
#&gt; factor(alloc)random       -0.9658  0.2672  -3.6138  0.0003  -1.4896  -0.4420 
#&gt; factor(alloc)systematic   -0.4289  0.3449  -1.2434  0.2137  -1.1050   0.2472 
#&gt;  
#&gt; factor(alloc)alternate 
#&gt; factor(alloc)random      *** 
#&gt; factor(alloc)systematic 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### demonstrating that Q_E + Q_M = Q_Total for fixed-effects models</span>
<span class='co'>### note: this does not work for random/mixed-effects models, since Q_E and</span>
<span class='co'>### Q_Total are calculated under the assumption that tau^2 = 0, while the</span>
<span class='co'>### calculation of Q_M incorporates the estimate of tau^2</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, method<span class='op'>=</span><span class='st'>"FE"</span><span class='op'>)</span>
<span class='va'>res</span> <span class='co'>### this gives Q_Total</span>
</div><div class='output co'>#&gt; 
#&gt; Fixed-Effects Model (k = 13)
#&gt; 
#&gt; I^2 (total heterogeneity / total variability):   92.12%
#&gt; H^2 (total variability / sampling variability):  12.69
#&gt; 
#&gt; Test for Heterogeneity:
#&gt; Q(df = 12) = 152.2330, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt; estimate      se      zval    pval    ci.lb    ci.ub 
#&gt;  -0.4303  0.0405  -10.6247  &lt;.0001  -0.5097  -0.3509  *** 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>ablat</span> <span class='op'>+</span> <span class='va'>year</span>, data<span class='op'>=</span><span class='va'>dat</span>, method<span class='op'>=</span><span class='st'>"FE"</span><span class='op'>)</span>
<span class='va'>res</span> <span class='co'>### this gives Q_E and Q_M</span>
</div><div class='output co'>#&gt; 
#&gt; Fixed-Effects with Moderators Model (k = 13)
#&gt; 
#&gt; I^2 (residual heterogeneity / unaccounted variability): 64.70%
#&gt; H^2 (unaccounted variability / sampling variability):   2.83
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 28.3251, p-val = 0.0016
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 123.9079, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;          estimate       se     zval    pval    ci.lb    ci.ub 
#&gt; intrcpt   17.1518  10.8321   1.5834  0.1133  -4.0786  38.3822      
#&gt; ablat     -0.0339   0.0040  -8.4766  &lt;.0001  -0.0417  -0.0260  *** 
#&gt; year      -0.0085   0.0055  -1.5518  0.1207  -0.0192   0.0022      
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'><span class='va'>res</span><span class='op'>$</span><span class='va'>QE</span> <span class='op'>+</span> <span class='va'>res</span><span class='op'>$</span><span class='va'>QM</span>
</div><div class='output co'>#&gt; [1] 152.233</div><div class='input'>
<span class='co'>### decomposition of Q_E into subgroup Q-values</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='va'>res</span>
</div><div class='output co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.3615 (SE = 0.2111)
#&gt; tau (square root of estimated tau^2 value):             0.6013
#&gt; I^2 (residual heterogeneity / unaccounted variability): 88.77%
#&gt; H^2 (unaccounted variability / sampling variability):   8.91
#&gt; R^2 (amount of heterogeneity accounted for):            0.00%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 132.3676, p-val &lt; .0001
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 1.7675, p-val = 0.4132
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;                          estimate      se     zval    pval    ci.lb   ci.ub 
#&gt; intrcpt                   -0.5180  0.4412  -1.1740  0.2404  -1.3827  0.3468    
#&gt; factor(alloc)random       -0.4478  0.5158  -0.8682  0.3853  -1.4588  0.5632    
#&gt; factor(alloc)systematic    0.0890  0.5600   0.1590  0.8737  -1.0086  1.1867    
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='va'>res.a</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, subset<span class='op'>=</span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>==</span><span class='st'>"alternate"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>res.r</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, subset<span class='op'>=</span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>==</span><span class='st'>"random"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>res.s</span> <span class='op'>&lt;-</span> <span class='fu'>rma</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, subset<span class='op'>=</span><span class='op'>(</span><span class='va'>alloc</span><span class='op'>==</span><span class='st'>"systematic"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>res.a</span><span class='op'>$</span><span class='va'>QE</span> <span class='co'>### Q-value within subgroup "alternate"</span>
</div><div class='output co'>#&gt; [1] 5.562514</div><div class='input'><span class='va'>res.r</span><span class='op'>$</span><span class='va'>QE</span> <span class='co'>### Q-value within subgroup "random"</span>
</div><div class='output co'>#&gt; [1] 110.2133</div><div class='input'><span class='va'>res.s</span><span class='op'>$</span><span class='va'>QE</span> <span class='co'>### Q-value within subgroup "systematic"</span>
</div><div class='output co'>#&gt; [1] 16.59186</div><div class='input'>
<span class='va'>res</span><span class='op'>$</span><span class='va'>QE</span>
</div><div class='output co'>#&gt; [1] 132.3676</div><div class='input'><span class='va'>res.a</span><span class='op'>$</span><span class='va'>QE</span> <span class='op'>+</span> <span class='va'>res.r</span><span class='op'>$</span><span class='va'>QE</span> <span class='op'>+</span> <span class='va'>res.s</span><span class='op'>$</span><span class='va'>QE</span>
</div><div class='output co'>#&gt; [1] 132.3676</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


