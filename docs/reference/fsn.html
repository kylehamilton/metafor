<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fail-Safe N Analysis (File Drawer Analysis) — fsn • metafor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fail-Safe N Analysis (File Drawer Analysis) — fsn" />
<meta property="og:description" content="Function to compute the fail-safe N (also called a file drawer analysis)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5-52</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fail-Safe N Analysis (File Drawer Analysis)</h1>
    
    <div class="hidden name"><code>fsn.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to compute the fail-safe N (also called a file drawer analysis).</p>
    </div>

    <pre class="usage"><span class='fu'>fsn</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, <span class='va'>sei</span>, <span class='va'>data</span>, type<span class='op'>=</span><span class='st'>"Rosenthal"</span>, alpha<span class='op'>=</span><span class='fl'>.05</span>,
    <span class='va'>target</span>, weighted<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>subset</span>, <span class='va'>digits</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>yi</th>
      <td><p>vector with the observed effect sizes or outcomes.</p></td>
    </tr>
    <tr>
      <th>vi</th>
      <td><p>vector with the corresponding sampling variances.</p></td>
    </tr>
    <tr>
      <th>sei</th>
      <td><p>vector with the corresponding standard errors (note: only one of the two, <code>vi</code> or <code>sei</code>, needs to be specified).</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>optional data frame containing the variables given to the arguments above.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>character string indicating the method to use for the calculation of the fail-safe N. Possible options are <code>"Rosenthal"</code> (the default), <code>"Orwin"</code>, or <code>"Rosenberg"</code>. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>target alpha level to use for the Rosenthal and Rosenberg methods (the default is .05).</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>target average effect size to use for the Orwin method. If undefined, then the target average effect size will be equal to the observed average effect size divided by 2.</p></td>
    </tr>
    <tr>
      <th>weighted</th>
      <td><p>logical indicating whether Orwin's method should be based on unweighted (the default) or weighted averages.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>optional (logical or numeric) vector indicating the subset of studies that should be used for the calculations.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer specifying the number of decimal places to which the printed results should be rounded (if unspecified, the default is 4).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function can be used in conjunction with any of the usual effect sizes / outcome measures used in meta-analyses (e.g., log risk ratios, log odds ratios, risk differences, mean differences, standardized mean differences, raw correlation coefficients, correlation coefficients transformed with Fisher's r-to-z transformation, and so on). Simply specify the observed effect sizes or outcomes via the <code>yi</code> argument and the corresponding sampling variances via the <code>vi</code> argument (instead of specifying <code>vi</code>, one can specify the standard errors via the <code>sei</code> argument). The <code><a href='escalc.html'>escalc</a></code> function can be used to compute a wide variety of effect sizes / outcome measures (and the corresponding sampling variances) based on summary statistics.</p>
<p>The Rosenthal method (sometimes called a &#8216;file drawer analysis&#8217;) calculates the number of studies averaging null results that would have to be added to the given set of observed effect sizes or outcomes to reduce the combined significance level (p-value) to a target alpha level (e.g., .05). The calculation is based on Stouffer's method to combine p-values and is described in Rosenthal (1979).</p>
<p>The Orwin method calculates the number of studies averaging null results that would have to be added to the given set of observed effect sizes or outcomes to reduce the (unweighted or weighted) average effect size to a target effect size (as specified via the <code>target</code> argument). The method is described in Orwin (1983). If <code>weighted=FALSE</code> (the default), the method does not require (or makes use) of <code>vi</code> (or <code>sei</code>), so these arguments are then not relevant for this method. If the <code>target</code> argument is not specified, then the target average effect size will be equal to the observed average effect size divided by 2 (which is quite arbitrary). One should really set <code>target</code> to a value that reflects an effect size one would consider practically irrelevant.</p>
<p>The Rosenberg method calculates the number of studies averaging null results that would have to be added to the given set of observed effect sizes or outcomes to reduce the significance level (i.e., p-value) of the (weighted) average effect size (based on a fixed-effects model) to a target alpha level (e.g., .05). The method is described in Rosenberg (2005).</p>
<p>If the combined/observed significance level is above the target alpha level (for <code>type = "Rosenthal"</code> or <code>type = "Rosenberg)"</code>) or if the observed average effect size is below the target average effect size (for <code>type = "Orwin"</code>), then the fail-sage N value will be 0.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>"fsn"</code>. The object is a list containing the following components:</p>
<dt>type</dt><dd><p>the method used.</p></dd>
   <dt>fsnum</dt><dd><p>the calculated fail-safe N.</p></dd>
   <dt>alpha</dt><dd><p>the target alpha level.</p></dd>
   <dt>pval</dt><dd><p>the p-value of the observed results. <code>NA</code> for the Orwin method.</p></dd>
   <dt>meanes</dt><dd><p>the average effect size of the observed results. <code>NA</code> for the Rosenthal method.</p></dd>
   <dt>target</dt><dd><p>the target effect size. <code>NA</code> for the Rosenthal and Rosenberg methods.</p></dd>

   The results are formatted and printed with the <a href='print.fsn.html'>print.fsn</a> function.

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>For the Rosenberg method, the p-value is calculated based on a standard normal distribution (instead of a t-distribution, as suggested by Rosenberg, 2005).</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='http://www.metafor-project.org'>http://www.metafor-project.org</a></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Rosenthal, R. (1979). The "file drawer problem" and tolerance for null results. <em>Psychological Bulletin</em>, <b>86</b>(3), 638--641. <a href='https://doi.org/10.1037/0033-2909.86.3.638'>https://doi.org/10.1037/0033-2909.86.3.638</a></p>
<p>Orwin, R. G. (1983). A fail-safe N for effect size in meta-analysis. <em>Journal of Educational Statistics</em>, <b>8</b>(2), 157--159. <a href='https://doi.org/10.3102/10769986008002157'>https://doi.org/10.3102/10769986008002157</a></p>
<p>Rosenberg, M. S. (2005). The file-drawer problem revisited: A general weighted method for calculating fail-safe numbers in meta-analysis. <em>Evolution</em>, <b>59</b>(2), 464--468. <a href='https://doi.org/10.1111/j.0014-3820.2005.tb01004.x'>https://doi.org/10.1111/j.0014-3820.2005.tb01004.x</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='https://doi.org/10.18637/jss.v036.i03'>https://doi.org/10.18637/jss.v036.i03</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='ranktest.html'>ranktest</a></code>, <code><a href='regtest.html'>regtest</a></code>, <code><a href='trimfill.html'>trimfill</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### calculate log risk ratios and corresponding sampling variances</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span><span class='op'>(</span>measure<span class='op'>=</span><span class='st'>"RR"</span>, ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat.bcg</span><span class='op'>)</span>

<span class='fu'>fsn</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Rosenthal Approach
#&gt; 
#&gt; Observed Significance Level: &lt;.0001
#&gt; Target Significance Level:   0.05
#&gt; 
#&gt; Fail-safe N: 598
#&gt; </div><div class='input'><span class='fu'>fsn</span><span class='op'>(</span><span class='va'>yi</span>, data<span class='op'>=</span><span class='va'>dat</span>, type<span class='op'>=</span><span class='st'>"Orwin"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Orwin Approach
#&gt; 
#&gt; Average Effect Size: -0.7407
#&gt; Target Effect Size:  -0.3703
#&gt; 
#&gt; Fail-safe N: 13
#&gt; </div><div class='input'><span class='fu'>fsn</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, type<span class='op'>=</span><span class='st'>"Orwin"</span>, weighted<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Orwin Approach
#&gt; 
#&gt; Average Effect Size: -0.4303
#&gt; Target Effect Size:  -0.2151
#&gt; 
#&gt; Fail-safe N: 13
#&gt; </div><div class='input'><span class='fu'>fsn</span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, data<span class='op'>=</span><span class='va'>dat</span>, type<span class='op'>=</span><span class='st'>"Rosenberg"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Rosenberg Approach
#&gt; 
#&gt; Average Effect Size:         -0.4303
#&gt; Observed Significance Level: &lt;.0001
#&gt; Target Significance Level:   0.05
#&gt; 
#&gt; Fail-safe N: 370
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


