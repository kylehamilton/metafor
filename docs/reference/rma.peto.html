<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Meta-Analysis via Peto's Method — rma.peto • metafor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Meta-Analysis via Peto's Method — rma.peto" />
<meta property="og:description" content="Function to fit fixed-effects models to \(2 \times 2\) table data via Peto's method. See below and the documentation of the metafor-package for more details on these models. " />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5-52</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Meta-Analysis via Peto's Method</h1>
    
    <div class="hidden name"><code>rma.peto.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to fit fixed-effects models to \(2 \times 2\) table data via Peto's method. See below and the documentation of the <span class="pkg"><a href='metafor-package.html'>metafor-package</a></span> for more details on these models. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <pre class="usage"><span class='fu'>rma.peto</span><span class='op'>(</span><span class='va'>ai</span>, <span class='va'>bi</span>, <span class='va'>ci</span>, <span class='va'>di</span>, <span class='va'>n1i</span>, <span class='va'>n2i</span>,
         <span class='va'>data</span>, <span class='va'>slab</span>, <span class='va'>subset</span>,
         add<span class='op'>=</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>2</span>, to<span class='op'>=</span><span class='st'>"only0"</span>, drop00<span class='op'>=</span><span class='cn'>TRUE</span>,
         level<span class='op'>=</span><span class='fl'>95</span>, <span class='va'>digits</span>, verbose<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ai</th>
      <td><p>vector to specify the \(2 \times 2\) table frequencies (upper left cell). See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>bi</th>
      <td><p>vector to specify the \(2 \times 2\) table frequencies (upper right cell). See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>vector to specify the \(2 \times 2\) table frequencies (lower left cell). See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>di</th>
      <td><p>vector to specify the \(2 \times 2\) table frequencies (lower right cell). See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>n1i</th>
      <td><p>vector to specify the group sizes or row totals (first group). See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>n2i</th>
      <td><p>vector to specify the group sizes or row totals (second group). See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>optional data frame containing the data supplied to the function.</p></td>
    </tr>
    <tr>
      <th>slab</th>
      <td><p>optional vector with labels for the \(k\) studies.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>optional (logical or numeric) vector indicating the subset of studies that should be used for the analysis.</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>non-negative number indicating the amount to add to zero cells, counts, or frequencies when calculating the observed effect sizes or outcomes of the individual studies. Can also be a vector of two numbers, where the first number is used in the calculation of the observed effect sizes outcomes and the second number is used when applying Peto's method. See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>character string indicating when the values under <code>add</code> should be added (either <code>"only0"</code>, <code>"all"</code>, <code>"if0all"</code>, or <code>"none"</code>). Can also be a character vector, where the first string again applies when calculating the observed effect sizes or outcomes and the second string when applying Peto's method. See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>drop00</th>
      <td><p>logical indicating whether studies with no cases (or only cases) in both groups should be dropped when calculating the observed effect sizes or outcomes (the outcomes for such studies are set to <code>NA</code>). Can also be a vector of two logicals, where the first applies to the calculation of the observed effect sizes or outcomes and the second when applying Peto's method. See below and the documentation of the <code><a href='escalc.html'>escalc</a></code> function for more details.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>numerical value between 0 and 100 specifying the confidence interval level (the default is 95).</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer specifying the number of decimal places to which the printed results should be rounded (if unspecified, the default is 4).</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical indicating whether output should be generated on the progress of the model fitting (the default is <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p><b>Specifying the Data</b></p>
<p>The studies are assumed to provide data in terms of \(2 \times 2\) tables of the form:</p><table class='table'>
<tr><td></td><td>outcome 1</td><td>outcome 2</td><td>total</td></tr>
<tr><td>group 1</td><td><code>ai</code></td><td><code>bi</code></td><td><code>n1i</code></td></tr>
<tr><td>group 2</td><td><code>ci</code></td><td><code>di</code></td><td><code>n2i</code></td></tr>
</table>
<p>where <code>ai</code>, <code>bi</code>, <code>ci</code>, and <code>di</code> denote the cell frequencies and <code>n1i</code> and <code>n2i</code> the row totals. For example, in a set of randomized clinical trials (RCTs) or cohort studies, group 1 and group 2 may refer to the treatment (exposed) and placebo/control (not exposed) group, with outcome 1 denoting some event of interest (e.g., death) and outcome 2 its complement. In a set of case-control studies, group 1 and group 2 may refer to the group of cases and the group of controls, with outcome 1 denoting, for example, exposure to some risk factor and outcome 2 non-exposure.</p>
<p><b>Peto's Method</b></p>
<p>An approach for aggregating \(2 \times 2\) table data of this type was suggested by Peto (see Yusuf et al., 1985). The method provides a weighted estimate of the (log) odds ratio under a fixed-effects model. The method is particularly advantageous when the event of interest is rare, but it should only be used when the group sizes within the individual studies are not too dissimilar and effect sizes are generally small (Greenland &amp; Salvan, 1990; Sweeting et al., 2004; Bradburn et al., 2007). Note that the printed results are given both in terms of the log and the raw units (for easier interpretation).</p>
<p><b>Observed Effect Sizes or Outcomes of the Individual Studies</b></p>
<p>Peto's method itself does not require the calculation of the observed (log) odds ratios of the individual studies and directly makes use of the \(2 \times 2\) table counts. Zero cells are not a problem (except in extreme cases, such as when one of the two outcomes never occurs in any of the tables). Therefore, it is unnecessary to add some constant to the cell counts when there are zero cells.</p>
<p>However, for plotting and various other functions, it is necessary to calculate the observed (log) odds ratios for the \(k\) studies. Here, zero cells can be problematic, so adding a constant value to the cell counts ensures that all \(k\) values can be calculated. The <code>add</code> and <code>to</code> arguments are used to specify what value should be added to the cell frequencies and under what circumstances when calculating the observed (log) odds ratios and when applying Peto's method. Similarly, the <code>drop00</code> argument is used to specify how studies with no cases (or only cases) in both groups should be handled. The documentation of the <code><a href='escalc.html'>escalc</a></code> function explains how the <code>add</code>, <code>to</code>, and <code>drop00</code> arguments work. If only a single value for these arguments is specified (as per default), then these values are used when calculating the observed (log) odds ratios and no adjustment to the cell counts is made when applying Peto's method. Alternatively, when specifying two values for these arguments, the first value applies when calculating the observed (log) odds ratios and the second value when applying Peto's method.</p>
<p>Note that <code>drop00</code> is set to <code>TRUE</code> by default. Therefore, the observed (log) odds ratios for studies where <code>ai=ci=0</code> or <code>bi=di=0</code> are set to <code>NA</code>. When applying Peto's method, such studies are not explicitly dropped (unless the second value of <code>drop00</code> argument is also set to <code>TRUE</code>), but this is practically not necessary, as they do not actually influence the results (assuming no adjustment to the cell/event counts are made when applying Peto's method).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code><a href='https://rdrr.io/r/base/c.html'>c("rma.peto","rma")</a></code>. The object is a list containing the following components:</p>
<dt>beta</dt><dd><p>aggregated log odds ratio.</p></dd>
   <dt>se</dt><dd><p>standard error of the aggregated value.</p></dd>
   <dt>zval</dt><dd><p>test statistics of the aggregated value.</p></dd>
   <dt>pval</dt><dd><p>corresponding p-value.</p></dd>
   <dt>ci.lb</dt><dd><p>lower bound of the confidence interval.</p></dd>
   <dt>ci.ub</dt><dd><p>upper bound of the confidence interval.</p></dd>
   <dt>QE</dt><dd><p>test statistic of the test for heterogeneity.</p></dd>
   <dt>QEp</dt><dd><p>corresponding p-value.</p></dd>
   <dt>k</dt><dd><p>number of studies included in the analysis.</p></dd>
   <dt>yi, vi</dt><dd><p>the vector of individual log odds ratios and corresponding sampling variances.</p></dd>
   <dt>fit.stats</dt><dd><p>a list with the log-likelihood, deviance, AIC, BIC, and AICc values under the unrestricted and restricted likelihood.</p></dd>
   <dt>...</dt><dd><p>some additional elements/values.</p></dd>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p>The results of the fitted model are formatted and printed with the <code><a href='print.rma.html'>print.rma.peto</a></code> function. If fit statistics should also be given, use <code><a href='print.rma.html'>summary.rma</a></code> (or use the <code><a href='fitstats.html'>fitstats.rma</a></code> function to extract them).</p>
<p>The <code><a href='residuals.rma.html'>residuals.rma</a></code>, <code><a href='residuals.rma.html'>rstandard.rma.peto</a></code>, and <code><a href='residuals.rma.html'>rstudent.rma.peto</a></code> functions extract raw and standardized residuals. Leave-one-out diagnostics can be obtained with <code><a href='leave1out.html'>leave1out.rma.peto</a></code>.</p>
<p>Forest, funnel, radial, L'Abbé, and Baujat plots can be obtained with <code><a href='forest.rma.html'>forest.rma</a></code>, <code><a href='funnel.html'>funnel.rma</a></code>, <code><a href='radial.html'>radial.rma</a></code>, <code><a href='labbe.html'>labbe.rma</a></code>, and <code><a href='baujat.html'>baujat</a></code>. The <code><a href='qqnorm.rma.uni.html'>qqnorm.rma.peto</a></code> function provides normal QQ plots of the standardized residuals. One can also just call <code><a href='plot.rma.html'>plot.rma.peto</a></code> on the fitted model object to obtain various plots at once.</p>
<p>A cumulative meta-analysis (i.e., adding one observation at a time) can be obtained with <code><a href='cumul.html'>cumul.rma.peto</a></code>.</p>
<p>Other extractor functions include <code><a href='coef.rma.html'>coef.rma</a></code>, <code><a href='vcov.rma.html'>vcov.rma</a></code>, <code><a href='fitstats.html'>logLik.rma</a></code>, <code><a href='fitstats.html'>deviance.rma</a></code>, <code><a href='fitstats.html'>AIC.rma</a></code>, and <code><a href='fitstats.html'>BIC.rma</a></code>.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='http://www.metafor-project.org'>http://www.metafor-project.org</a></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bradburn, M. J., Deeks, J. J., Berlin, J. A., &amp; Localio, A. R. (2007). Much ado about nothing: A comparison of the performance of meta-analytical methods with rare events. <em>Statistics in Medicine</em>, <b>26</b>(1), 53--77. <a href='https://doi.org/10.1002/sim.2528'>https://doi.org/10.1002/sim.2528</a></p>
<p>Greenland, S., &amp; Salvan, A. (1990). Bias in the one-step method for pooling study results. <em>Statistics in Medicine</em>, <b>9</b>(3), 247--252. <a href='https://doi.org/10.1002/sim.4780090307'>https://doi.org/10.1002/sim.4780090307</a></p>
<p>Sweeting, M. J., Sutton, A. J., &amp; Lambert, P. C. (2004). What to add to nothing? Use and avoidance of continuity corrections in meta-analysis of sparse data. <em>Statistics in Medicine</em>, <b>23</b>(9), 1351--1375. <a href='https://doi.org/10.1002/sim.1761'>https://doi.org/10.1002/sim.1761</a></p>
<p>Yusuf, S., Peto, R., Lewis, J., Collins, R., &amp; Sleight, P. (1985). Beta blockade during and after myocardial infarction: An overview of the randomized trials. <em>Progress in Cardiovascular Disease</em>, <b>27</b>(5), 335--371. <a href='https://doi.org/10.1016/s0033-0620(85)80003-7'>https://doi.org/10.1016/s0033-0620(85)80003-7</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='https://doi.org/10.18637/jss.v036.i03'>https://doi.org/10.18637/jss.v036.i03</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='rma.uni.html'>rma.uni</a></code>, <code><a href='rma.glmm.html'>rma.glmm</a></code>, <code><a href='rma.mh.html'>rma.mh</a></code>, and <code><a href='rma.mv.html'>rma.mv</a></code> for other model fitting functions.</p>
<p><code><a href='dat.collins1985a.html'>dat.collins1985a</a></code>, <code><a href='dat.collins1985b.html'>dat.collins1985b</a></code>, and <code><a href='dat.yusuf1985.html'>dat.yusuf1985</a></code> for further examples of the use of the <code>rma.peto</code> function.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### meta-analysis of the (log) odds ratios using Peto's method</span>
<span class='fu'>rma.peto</span><span class='op'>(</span>ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat.bcg</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Fixed-Effects Model (k = 13)
#&gt; 
#&gt; I^2 (total heterogeneity / total variability):  92.85%
#&gt; H^2 (total variability / sampling variability): 13.98
#&gt; 
#&gt; Test for Heterogeneity: 
#&gt; Q(df = 12) = 167.7302, p-val &lt; .0001
#&gt; 
#&gt; Model Results (log scale):
#&gt; 
#&gt; estimate      se      zval    pval    ci.lb    ci.ub 
#&gt;  -0.4744  0.0407  -11.6689  &lt;.0001  -0.5541  -0.3948 
#&gt; 
#&gt; Model Results (OR scale):
#&gt; 
#&gt; estimate   ci.lb   ci.ub 
#&gt;   0.6222  0.5746  0.6738 
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


